<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fancade - Palette</title>
</head>

<body>
   
<style>
   
   @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@800');
   
   * {
      margin: 0;
      padding: 0;
      font-family: 'Baloo 2';
      color: #fff;
      user-select: none;
   }
   h1 {
      font-family: 'Baloo 2';
   }
   body,html {
      background: #00c0ff;
      overflow: hidden;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
   }
   .exports {
      position: absolute;
      left: 25%;
      width: 50%;
      height: calc(15% * 4);
      box-shadow:0 0 0 0.20em black, 0 0 0 0.35em white ,inset 0 5px #adbdd1;
      border-radius: 2vmin;
   }
   .click {
      background: #fff;
      color: #adbdd1;
      border: 0;
      width: 100%;
      height: calc(25% - (5px / 4));
      box-shadow: 0px 5px #adbdd1 , inset 0 0 0 1px #adbdd155;
      transform-style: preserve-3d;
      transform: translateZ(5px);
   }
   .click:nth-child(1) {
      border-radius: 2vmin 2vmin 0 0;
   }
   .click:nth-child(4) {
      border-radius: 0 0 2vmin 2vmin;
   }
   .click:active {
      transform: translateZ(-5px) translateY(5px);
      box-shadow: 0px 0px #adbdd1 , inset 0 0 0 1px #adbdd155;
   }
   .export {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      transform: scale(0);
      transition: all 0.2s ease-in-out;
      text-align: center;
   }
   .overlay {
      position: absolute;
      width: 50px;
      height: 50px;
      bottom: 0;
      transform: translateZ(5px);
   }
   .icon {
      width: 20px;
      height: 20px;
      background-image: url(atlas.png);
      background-size: 400%;
      background-repeat: no-repeat;
   }
   .center {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
   }
   .centered {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80%;
      width: 100%;
   }
   .palette {
      overflow: hidden;
      background: #fff;
   }
   .col {
      display: inline-flex;
      transform: translateZ(5px);
      font-size: 0;
      box-shadow:inset 0 0 0 1px #0021;
   }
   .rgb , .hex {
      background: #fff;
      color: #adbdd1;
      width: calc(50% - 1.6px);
      height: 22.5%;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      transform: translateZ(-5px);
   }
   .rgb:active,.hex:active {
      transform: translateY(5px);
   }
   .selector {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: #00c0ff;
      font-size: initial;
   }
   .selected {
      box-shadow: inset 0px 7px 5px #0025;
   }
   .checked {
      color: #fff;
      background: #00c0ff;
      box-shadow: 0 -5px #00c0ff , 0 -10px #0088fe;
   }
   .button {
      border-radius: 10px;
      padding: 10px 15px;
      background: #00c0ff;
      border: 0;
      border-bottom: #0088fe solid 5px;
      box-shadow:0 0 0 0.20em black, 0 0 0 0.35em white;
      margin: 5%;
   }
   .button:active {
      border-bottom: #0088fe solid 0px;
      border-top: #0088fe solid 5px;
   }
   .colors {
      font-size: 0;
   }
   
   @media (orientation: portrait) {
      .palette {
         border-radius: 3vw;
         box-shadow:0 0 0 0.5vh black, 0 0 0 1vh white;
         width: calc(8vw * 11);
         height: calc(8vw * 5.5);
      }
      .col {
         width: 8vw;
         height: 8vw;
      }
      .selector {
         width: calc(8vw * 11);
         height: 8.5vw;
         border-radius: 0 0 3vw 3vw;
         box-shadow: 0 3vw #0088fe;
      }
      .rgb {
         border-radius: 0 3vw 0 0;
      }
      .hex {
         border-radius: 3vw 0 0 0;
      }
   }
   
   @media (orientation: landscape) {
      .palette {
         border-radius: 3vh;
         box-shadow:0 0 0 0.5vw black, 0 0 0 1vw white;
         width: calc(10vh * 11);
         height: calc(10vh * 5.5);
      }
      .col {
         width: 10vh;
         height: 10vh;
      }
      .selector {
         width: calc(10vh*11);
         height: 11vh;
         border-radius: 0 0 4vh 4vh;
         box-shadow: 0 3vh #0088fe;
      }
      .rgb {
         border-radius: 0 3vh 0 0;
      }
      .hex {
         border-radius: 3vh 0 0 0;
      }
   }
   
</style>

<div class="gen">
</div>

<center class="center">
   <div class="palette">
      <div class="type1 hex checked" onclick="type(1)">HEX</div>
      <div class="type2 rgb" onclick="type(2)">RGB</div>
      <div class="colors"></div>
   </div>
</center>

<script>
   
   var colors = [
      'rgb(219,145,145)',//1
      'rgb(255,227,227)',//1
      'rgb(171,134,255)',//1
      'rgb(255,179,228)',//1
      'rgb(255,150,150)',//1
      'rgb(255,163,125)',//1
      'rgb(255,255,117)',//1
      'rgb(171,255,104)',//1
      'rgb(0,194,255)',//1
      'rgb(254,255,255)',//1
      'rgb(91,91,118)',//1
      'rgb(187,103,122)',//2
      'rgb(255,202,184)',//2
      'rgb(137,107,214)',//2
      'rgb(255,144,202)',//2
      'rgb(255,72,101)',//2
      'rgb(255,108,80)',//2
      'rgb(255,205,0)',//2
      'rgb(62,186,73)',//2
      'rgb(0,140,255)',//2
      'rgb(221,224,240)',//2
      'rgb(60,60,80)',//2
      'rgb(144,79,90)',//3
      'rgb(245,171,160)',//3
      'rgb(102,81,158)',//3
      'rgb(230,108,167)',//3
      'rgb(187,52,77)',//3
      'rgb(200,77,61)',//3
      'rgb(233,163,0)',//3
      'rgb(0,134,74)',//3
      'rgb(0,106,212)',//3
      'rgb(135,139,160)',//3
      'rgb(26,26,37)'//3
   ];
   
   let hex = true;
   
   function type(x) {
      sound('uibutton.wav',1)
      var type = x;
      var check = document.querySelector('.'+'type'+x);
      if (type == 1) {
         var uncheck = document.querySelector('.'+'type'+(x+1));
         hex = true
      }
      if (type == 2) {
         var uncheck = document.querySelector('.'+'type'+(x-1));
         hex = false
      }
      check.classList.add('checked');
      check.style.boxShadow = '0 -5px #0088fe'
      uncheck.classList.remove('checked');
      uncheck.style.boxShadow = '0 -5px #adbdd155'
      if (document.querySelector('.selector').innerHTML == 'Select a Color To Display') {}
      else {
         if (hex == true) {
            document.querySelector('.selector').innerHTML = '#'+eval('hex'+colors[selcol]);
         }
         if (hex == false) {
            document.querySelector('.selector').innerHTML = colors[selcol];
         }
      }
   }
   
   function select(x) {
      sound('beep.wav',1)
      if (hex == true) {
         document.querySelector('.selector').innerHTML = '#'+eval('hex'+colors[x]);
      }
      if (hex == false) {
         document.querySelector('.selector').innerHTML = colors[x];
      }
      for (c = 0; c < 33; ++c) {
         
         var col = document.querySelector(".cols" + c);
         
         if (x == c) {
            selcol = x
            document.body.style.background = colors[x];
            col.classList.add('selected');
              
            if (hex == true) {
               copy('#'+eval('hex'+colors[x]));
            }
            if (hex == false) {
               copy(colors[x]);
            }
         }
         else {
            col.classList.remove('selected');
         }
      }
   }
   
   var palette = document.querySelector('.colors');
   
   for (i = 0; i < 33; ++i) {
      palette.innerHTML = palette.innerHTML + '<color class="col cols' + i + '" onclick="select(' + i + ')"></color>'
      document.querySelector(('.cols' + i)).style.background = colors[i];
   }
   
   palette.innerHTML = palette.innerHTML + '<div class="selector"></div>';
   
   document.querySelector('.selector').innerHTML = 'Select a Color To Display';
   
   function hexrgb(r, g, b) {
      return (((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1));
   }
   
   function copy(text) {
      var textarea = document.createElement("textarea");
      document.body.appendChild(textarea);
      textarea.value = text;
      textarea.select();
      document.execCommand("copy");
      document.body.removeChild(textarea);
   }
   
   function save(text,name) {
      var a = document.createElement('a');
      a.href = 'data:attachment/text,' + encodeURI(text);
      a.target = '_blank';
      a.download = name;
      sound('beep.wav',1);
      a.click();
   }
   
   function spacergb(r, g, b) {
      return r + ' ' + g + ' ' + b + '' ;
   }
   
   let palpal = 'JASC-PAL\n0100\n33';
   let palhex = ' ';
   let palgpl = 'GIMP Palette\nName: Fancade\nColumns: 33'
   let paltxt = ';paint.net Palette File\n;Downloaded from fancade-colorpicker\n;Palette Name: Fancade\n;Description: Fancade Palette\n;Colors: 33';
   
   for (let x = 0; x < 11; x++) {
      for (let y = 0; y < 3; y++) {
         var cn = y*11 + x;
         palpal = palpal + '\n' + eval('space'+colors[cn]);
         palhex = palhex + '\n' + eval('hex'+colors[cn]);
         palgpl = palgpl + '\n' + eval('space'+colors[cn]) + ' ' + eval('hex'+colors[cn]);
         paltxt = paltxt + '\nFF' + eval('hex'+colors[cn]);
      }
   }
   
   function sound(x,y) {
      var audio = new Audio(x);
      audio.volume = y;
      audio.play();
   }
   
   let showed = false;
   
   function show() {
      display = document.querySelector('.export');
      if (showed == true) {
         display.style.transform = 'scale(0)';
      }
      if (showed == false) {
         display.style.transform = 'scale(1)';
      }
      showed = !showed;
      sound('uibutton.wav',1)
   }
</script>

<div class="export">
   <h1 style="transform: translateY(40%) translateX(0.5%);">Download</h1>
   <div class="centered">
      <div class="exports">
         <button class="click" onclick="save(palpal,'Fancade.pal');">.pal</button>
         <button class="click" onclick="save(palhex,'Fancade.hex');">.hex</button>
         <button class="click" onclick="save(palgpl,'Fancade.gpl');">.gpl</button>
         <button class="click" onclick="save(paltxt,'Fancade.txt');">.txt</button>
      </div>
   </div>
</div>
<button class="overlay button" onclick="show()"><div class="icon"></div></button>

</body>

</html>